import React, { useState, useRef, useEffect } from 'react'
import { Link } from 'gatsby'

export default function Nav({ hideNav }) {
  const [showMenu, setShowMenu] = useState(false)
  const links = useRef(null)

  const hamburgerToggle = (e) => {
    // console.log(e.currentTarget)
    const burger = e.currentTarget
    burger.classList.toggle('opened')
    burger.setAttribute('aria-expanded', burger.classList.contains('opened'))
    // links.current.classList.toggle('show')
    setShowMenu(!showMenu)
  }

  return (
    <nav className={'navbar' + (hideNav ? ' navbar--hidden' : '')}>
      <div className="navbar__logo">
        <Link to="/" className="brand">
          &lt;JJ&gt;
        </Link>
      </div>
      <div
        ref={links}
        className={
          'navbar__links' +
          (showMenu ? ' navbar__links--show' : '') +
          (hideNav ? ' navbar__links--hidden' : '')
        }
      >
        <Link to="/">
          <svg viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M12 5.69L17 10.19V18H15V12H9V18H7V10.19L12 5.69M12 3L2 12H5V20H11V14H13V20H19V12H22L12 3Z"
            />
          </svg>
        </Link>
        <Link to="/about">
          <svg viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M20 22H4V20C4 17.8 7.6 16 12 16S20 17.8 20 20M8 9H16V10C16 12.2 14.2 14 12 14S8 12.2 8 10M19 4C18.4 4 18 4.4 18 5V6H16.5L15.1 3C15 2.8 14.9 2.6 14.7 2.5C14.2 2 13.4 1.9 12.7 2.2L12 2.4L11.3 2.1C10.6 1.8 9.8 1.9 9.3 2.4C9.1 2.6 9 2.8 8.9 3L7.5 6H6V5C6 4.4 5.6 4 5 4S4 4.4 4 5V6C4 7.1 4.9 8 6 8H18C19.1 8 20 7.1 20 6V5C20 4.5 19.6 4 19 4Z"
            />
          </svg>
        </Link>
        <Link to="/skills">
          <svg viewBox="0 0 24 24">
            <path d="M13 5l0.855 3.42 3.389-0.971 1.501 2.6-2.535 2.449 2.535 2.451-1.5 2.6-3.39-0.971-0.855 3.422h-3l-0.855-3.422-3.39 0.971-1.501-2.6 2.535-2.451-2.534-2.449 1.5-2.6 3.39 0.971 0.855-3.42h3zM13 3h-3c-0.918 0-1.718 0.625-1.939 1.516l-0.354 1.412-1.4-0.4c-0.184-0.053-0.369-0.078-0.552-0.078-0.7 0-1.368 0.37-1.731 1l-1.5 2.6c-0.459 0.796-0.317 1.802 0.342 2.438l1.047 1.011-1.048 1.015c-0.66 0.637-0.802 1.643-0.343 2.438l1.502 2.6c0.363 0.631 1.031 1 1.731 1 0.183 0 0.368-0.025 0.552-0.076l1.399-0.401 0.354 1.415c0.222 0.885 1.022 1.51 1.94 1.51h3c0.918 0 1.718-0.625 1.939-1.516l0.354-1.414 1.399 0.4c0.184 0.053 0.369 0.077 0.552 0.077 0.7 0 1.368-0.37 1.731-1l1.5-2.6c0.459-0.796 0.317-1.8-0.342-2.438l-1.047-1.013 1.047-1.013c0.66-0.637 0.801-1.644 0.342-2.438l-1.5-2.6c-0.365-0.631-1.031-1-1.732-1-0.184 0-0.368 0.025-0.551 0.076l-1.4 0.401-0.354-1.413c-0.22-0.884-1.020-1.509-1.938-1.509z"></path>
            <path d="M11.5 10.5c1.104 0 2 0.895 2 2s-0.896 2-2 2-2-0.896-2-2c0-1.105 0.896-2 2-2zM11.5 9.5c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3z"></path>
          </svg>
        </Link>
        <Link to="/projects">
          <svg viewBox="0 0 40 32">
            <path d="M26 23l3 3 10-10-10-10-3 3 7 7z"></path>
            <path d="M14 9l-3-3-10 10 10 10 3-3-7-7z"></path>
            <path d="M21.916 4.704l2.171 0.592-6 22.001-2.171-0.592 6-22.001z"></path>
          </svg>
        </Link>
        <Link to="/blog">
          <svg viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M19 5V19H5V5H19M21 3H3V21H21V3M17 17H7V16H17V17M17 15H7V14H17V15M17 12H7V7H17V12Z"
            />
          </svg>
        </Link>
      </div>

      <div className="navbar__social">
        <a
          className="navbar__social--twitter"
          href="https://twitter.com/codewithjalaj"
        >
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 32 32"
          >
            <path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
          </svg>
        </a>
        <a href="https://github.com/codewithjalaj">
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            width="26"
            height="28"
            viewBox="0 0 26 28"
          >
            <path d="M10 19c0 1.141-0.594 3-2 3s-2-1.859-2-3 0.594-3 2-3 2 1.859 2 3zM20 19c0 1.141-0.594 3-2 3s-2-1.859-2-3 0.594-3 2-3 2 1.859 2 3zM22.5 19c0-2.391-1.453-4.5-4-4.5-1.031 0-2.016 0.187-3.047 0.328-0.812 0.125-1.625 0.172-2.453 0.172s-1.641-0.047-2.453-0.172c-1.016-0.141-2.016-0.328-3.047-0.328-2.547 0-4 2.109-4 4.5 0 4.781 4.375 5.516 8.188 5.516h2.625c3.813 0 8.188-0.734 8.188-5.516zM26 16.25c0 1.734-0.172 3.578-0.953 5.172-2.063 4.172-7.734 4.578-11.797 4.578-4.125 0-10.141-0.359-12.281-4.578-0.797-1.578-0.969-3.437-0.969-5.172 0-2.281 0.625-4.438 2.125-6.188-0.281-0.859-0.422-1.766-0.422-2.656 0-1.172 0.266-2.344 0.797-3.406 2.469 0 4.047 1.078 5.922 2.547 1.578-0.375 3.203-0.547 4.828-0.547 1.469 0 2.953 0.156 4.375 0.5 1.859-1.453 3.437-2.5 5.875-2.5 0.531 1.062 0.797 2.234 0.797 3.406 0 0.891-0.141 1.781-0.422 2.625 1.5 1.766 2.125 3.938 2.125 6.219z"></path>
          </svg>
        </a>
        <a href="https://codepen.io/jalajavascript">
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
          >
            <path d="M29.555 11.501l-14-9.333c-0.336-0.224-0.774-0.224-1.109 0l-14 9.333c-0.278 0.185-0.445 0.498-0.445 0.832v9.333c0 0.334 0.167 0.647 0.445 0.832l14 9.333c0.168 0.112 0.361 0.168 0.555 0.168s0.387-0.056 0.555-0.168l14-9.333c0.278-0.185 0.445-0.498 0.445-0.832v-9.333c0-0.334-0.167-0.647-0.445-0.832zM15 20.465l-5.197-3.465 5.197-3.465 5.197 3.465-5.197 3.465zM16 11.798v-6.93l11.197 7.465-5.197 3.465-6-4zM14 11.798l-6 4-5.197-3.465 11.197-7.465v6.93zM6.197 17l-4.197 2.798v-5.596l4.197 2.798zM8 18.202l6 4v6.93l-11.197-7.465 5.197-3.465zM16 22.202l6-4 5.197 3.465-11.197 7.465v-6.93zM23.803 17l4.197-2.798v5.596l-4.197-2.798z"></path>
          </svg>
        </a>
        <a href="https://linkedin.com/jalajgupta">
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
          >
            <path d="M12 12h5.535v2.837h0.079c0.77-1.381 2.655-2.837 5.464-2.837 5.842 0 6.922 3.637 6.922 8.367v9.633h-5.769v-8.54c0-2.037-0.042-4.657-3.001-4.657-3.005 0-3.463 2.218-3.463 4.509v8.688h-5.767v-18z"></path>
            <path d="M2 12h6v18h-6v-18z"></path>
            <path d="M8 7c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z"></path>
          </svg>
        </a>
      </div>
      <div className="navbar__hamburger">
        <button
          className="menu"
          onClick={hamburgerToggle}
          aria-label="Main Menu"
        >
          <svg width="50" height="50" viewBox="0 0 100 100">
            <path
              className="line line1"
              d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058"
            />
            <path className="line line2" d="M 20,50 H 80" />
            <path
              className="line line3"
              d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942"
            />
          </svg>
        </button>
      </div>
    </nav>
  )
}
